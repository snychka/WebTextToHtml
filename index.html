<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>WebTextToHtml by snychka</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>WebTextToHtml</h1>
        <p>ASP.NET MVC C# Demo (vim2Html)</p>
        <p class="view"><a href="https://github.com/snychka/WebTextToHtml">View the Project on GitHub <small>snychka/WebTextToHtml</small></a></p>
        <ul>
          <li><a href="https://github.com/snychka/WebTextToHtml/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/snychka/WebTextToHtml/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/snychka/WebTextToHtml">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="webtexttohtml-vim2html" class="anchor" href="#webtexttohtml-vim2html"><span class="octicon octicon-link"></span></a>WebTextToHtml (vim2Html)</h1>

<p>Copyright Stefan Nychka, BSD 3-Clause license, LICENSE.txt</p>

<p>The main purpose of this code is to demonstrate my ability to program an ASP.NET
MVC web application, secondarily to convert vim text to html.  There may be
better programs that accept such text, consider it markup, and produce the
corresponding html.</p>

<p>TOC</p>

<ul>
<li><a href="#conversion-explanation">Conversion Explanation</a></li>
<li><a href="#running-code-short">Running Code (short)</a></li>
<li><a href="#running-code-detailed">Running Code (detailed)</a></li>
<li><a href="#environment-what-to-install-and-configuration-settings">Environment (what to install and configuration settings)</a></li>
<li>
<a href="#vim-settings">vim Settings</a> </li>
<li><a href="#improvements">Improvements</a></li>
</ul><h2>
<a name="conversion-explanation" class="anchor" href="#conversion-explanation"><span class="octicon octicon-link"></span></a>Conversion Explanation</h2>

<p>vim2Html takes a text file, most conveniently created by vim (see <a href="#vim-settings">vim Settings</a>
for details), and creates corresponding html.  It is easiest explained via some
examples of the resulting html in the &lt;body&gt; tag.  And, you can try it
out to see!</p>

<ul>
<li>
  <strong>Example 1</strong> text:

<pre>a paragraph</pre>


   Resulting html:

<pre>&lt;p&gt;
a paragraph
&lt;/p&gt;</pre>
</li>


        <li>
  <strong>Example 2</strong> text:

<pre>- a list and bullet</pre>


   Resulting html:

<pre>&lt;ul&gt;
  &lt;li&gt;
  a list and bullet
  &lt;/li&gt;
&lt;/ul&gt;</pre>
</li>

           <li>
  <strong>Example 3</strong> text:

<pre>a paragraph
- a list and bullet
  - an indented bullet
  - 2nd indented bullet
- 2nd outer bullet
- a longer line with a url, http://www.notarealsite.com/ . note how
  subsequent newlines in a bullet should be sufficiently indented
a new paragraph

2 subsequent paragraphs must be separated by a space</pre>
   Resulting html:

<pre>&lt;p&gt;
a paragraph
&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;
  a list and bullet
  &lt;ul&gt;
    &lt;li&gt;
    an indented bullet
    &lt;/li&gt;
    &lt;li&gt;
    2nd indented bullet
    &lt;/li&gt;
  &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
  2nd outer bullet
  &lt;/li&gt;
  &lt;li&gt;
  a longer line with a url, &lt;a href="http://www.notarealsite.com/," target="_blank"&gt;http://www.notarealsite.com/&lt;/a&gt; . note how
  subsequent newlines in a bullet should be sufficiently indented
  &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;
a new paragraph
&lt;/p&gt;
&lt;p&gt;
2 subsequent paragraphs must be separated by a space
&lt;/p&gt;
</pre>
</li>

</ul><h2>
<a name="running-code-short" class="anchor" href="#running-code-short"><span class="octicon octicon-link"></span></a>Running Code (short)</h2>

<p>See the <a href="#running-code-detailed">Running Code (detailed)</a> section for further info.</p>

<ol>
<li>Unzip the project, and locate WebTextToHtml 2 dirs. in</li>
<li>Run Visual Studio (VS) as an Admin, and open WebTextToHtml.sln</li>
<li>Ensure no LocalDb named Text2HtmlContext exists</li>
<li>In VS, press F5 to run the code.</li>
<li>In IE, change the url to https://localhost:44300</li>
<li>Ignore the SSL err. msg. and continue to the website ... that's basically it!</li>
</ol><h2>
<a name="running-code-detailed" class="anchor" href="#running-code-detailed"><span class="octicon octicon-link"></span></a>Running Code (detailed)</h2>

<p>First, see the
<a href="#environment-what-to-install-and-configuration-settings">Environment</a> section
for further information what to install and configuration settings.</p>

<ol>
<li>Unzip the project

<ul>
<li>Note the location of the WebTextToHtml.sln file, a couple directories in</li>
</ul>
</li>
<li>Open Visual Studio (VS) as an Admin, then open WebTextToHtml.sln

<ul>
<li><a href="http://www.eightforums.com/tutorials/9564-run-administrator-windows-8-a.html">Running software as an Admin</a></li>
<li>File &gt;&gt; Open &gt;&gt; Project/Solution..., navigate to and open WebTextToHtml.sln</li>
<li>Remember the SSL URL in the WebTestToHtml project's properties dialogue</li>
<li>To view the project properties, go to Hanselman's blog on <a href="http://www.hanselman.com/blog/WorkingWithSSLAtDevelopmentTimeIsEasierWithI%0AISExpress.aspx">IIS SSL</a>, and search for <em>properties dialog</em>
</li>
</ul>
</li>
<li>Ensure no LocalDb named Text2HtmlContext exists.  Can rename if it does

<ul>
<li><a href="http://geekswithblogs.net/MagnusKarlsson/archive/2012/11/18/connect-to-localdb-using-sql-server-management-studio.aspx">Connecting to LocalDb via SSMS</a></li>
<li><a href="http://msdn.microsoft.com/en-us/library/ms345378%28v=sql.110%29.aspx">Renaming a db</a></li>
</ul>
</li>
<li>In VS, press F5 to run the code in Debug mode.  IE should open up, but to a non-ssl url, likely saying "This page can't be displayed"</li>
<li>Change the url in IE to the SSL URL you remembered, which is <em>likely</em> http://localhost:44300</li>
<li>Ignore the SSl err. msg and continue to the website.</li>
</ol><h2>
<a name="environment-what-to-install-and-configuration-settings" class="anchor" href="#environment-what-to-install-and-configuration-settings"><span class="octicon octicon-link"></span></a>Environment (what to install and configuration settings)</h2>

<p>Software installed</p>

<ul>
<li>Windows 8</li>
<li>IE 10</li>
<li>Sql Server Express 2012 (v11.0.3128)

<ul>
<li><a href="http://www.microsoft.com/en-ca/download/details.aspx?id=29062">Installation (sqlexpress)</a></li>
<li><a href="http://msdn.microsoft.com/en-CA/library/hh510202%28v=sql.110%29.aspx">Install LocalDb</a></li>
<li>Ensure SSMS, Sql Server Managment Studio, is installed</li>
</ul>
</li>
<li>Visual Studio 2012 Pro. (VS)

<ul>
<li><a href="http://msdn.microsoft.com/en-us/library/e2h7fzkw%28v=vs.110%29.aspx">Installation (VS)</a></li>
<li>other versions will likely work</li>
</ul>
</li>
<li>IIS Express (included with VS)</li>
</ul><p>IE/IIS settings</p>

<ul>
<li>IE10 Standards mode</li>
<li>default Internet and Local Internet security settings</li>
<li>web site at https://localhost:44300</li>
</ul><p>VS settings</p>

<ul>
<li>used VS '12 pro, yet project was more up-to-date (EF 6, MVC 5)</li>
<li>Debug mode</li>
</ul><p>LocalDb</p>

<ul>
<li>Localdb, no existing Text2HtmlContext db</li>
</ul><p>Tested a web package deploy to IIS</p>

<ul>
<li>1st set up db

<ul>
<li>had empty SqlExpress db called Text2HtmlRelease</li>
<li>added Login "IIS APPPOOL\DefaultAppPool"

<ul>
<li>gave it reader, writer and ddladmin roles</li>
</ul>
</li>
</ul>
</li>
<li>IIS 8

<ul>
<li>directly on https://localhost, Default Web Site</li>
<li>ssl enabled, self-signed cert</li>
</ul>
</li>
</ul><h2>
<a name="vim-settings" class="anchor" href="#vim-settings"><span class="octicon octicon-link"></span></a>vim Settings</h2>

<p>vim is a text editor used on Linux-based systems, <a href="http://www.vim.org">http://www.vim.org</a></p>

<p>See Conversion Explanation section for some examples</p>

<p>important settings:<br><code>autoindent shiftwidth=2 shiftwidth=2 tabstop=2 expandtab</code></p>

<p>complete settings</p>

<pre><code>autoindent          ignorecase          scroll=11           textwidth=80
backspace=2         modelines=0         shiftwidth=2        ttyfast
expandtab           modified            softtabstop=2       ttymouse=xterm
helplang=en         pastetoggle=&lt;C-P&gt;   tabstop=2           window=0
fileencoding=utf-8
fileencodings=ucs-bom,utf-8,default,latin1
wildmode=longest,list
</code></pre>

<h2>
<a name="improvements" class="anchor" href="#improvements"><span class="octicon octicon-link"></span></a>Improvements</h2>

<p>Many planned improvements to pick away at.  In no particular order, and not necessarily a complete list:</p>

<ul>
<li>make directly available a deployment package

<ul>
<li>have it install on a web site other than the Default</li>
</ul>
</li>
<li>put the site up somewhere, likely Azure

<ul>
<li>create a legit. cert.</li>
</ul>
</li>
<li>allow users to store multiple documents</li>
<li>secure the connection strings</li>
<li>consolidate the project names</li>
<li>redesign using models as opposed to sessions (maybe)

<ul>
<li>ensure no over-posting</li>
</ul>
</li>
<li>improve the parsing errors</li>
<li>ensure any text in textarea remains after 'Upload and Convert' is clicked with no file chosen</li>
<li>allow user to set different whitespace (tabs, amount)</li>
<li>allow to set title (in html) of downloaded document</li>
<li>store files on file system, and only store loc. and likely checksum in db</li>
<li>test on multiple browsers</li>
<li>enforce better pswd. rules by instead using SqlMembershipProvider</li>
<li>read in tornado text from file, as opposed to hardcoding it into View (maybe)</li>
<li>use interfaces to allow for IoC and unit testing</li>
<li>figure out more portable version of wrap=off</li>
</ul>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/snychka">snychka</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>